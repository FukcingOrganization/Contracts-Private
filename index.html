<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Merkletree</title>
  <script src="https://cdn.jsdelivr.net/npm/merkletreejs@latest/merkletree.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/keccak256@latest/keccak256.js"></script>
</head>
<body>
<script type="text/javascript">  
  const buf2hex = x => '0x' + x.toString('hex')



  // Mint allowance: 
  // Root: 0x0d9361aed72bd9365ae719944695e6c13b7a1df85c1218f2675740b5af0d2d1c
  const addressGroup_0 = ['0x0000000000000000000000000000000000000000','0x9343C3Ac31DB62F6137f1828E5557ec07d11aA83', '0x5B38Da6a701c568545dCfcB03FcB875f56beddC4', '0xAb8483F64d9C6d1EcF9b849Ae677dD3315835cb2', '0x4B20993Bc481177ec7E8f571ceCaE8A9e22C02db']
  // Proof_0: [0x5380c7b7ae81a58eb98d9c78de4a1fd7fd9535fc953ed2be602daaa41767312a,0x9d997719c0a5b5f6db9b8ac69a988be57cf324cb9fffd51dc2c37544bb520d65,0x04a10bfd00977f54cc3450c9b25c9b3a502a089eba0097ba35fc33c4ea5fcb54] 

  // Mint allowance: 
  // Root: 0x92b5cca0cf98e7502acee0dfb324fc68a8090a729622027d0019fdb1c11b69a7
  const addressGroup_1 = ["0x0000000000000000000000000000000000000000","0x1bC6F80DA87Bdab3C94d7B1b7a513FE4Fc2254f5","0x78731D3Ca6b7E34aC0F824c42a7cC18A495cabaB","0x617F2E2fD72FD9D5503197092aC168c91465E7f2","0x17F6AD8Ef982297579C203069C1DbfFE4348c372"]
  // Proof_1: [0x5380c7b7ae81a58eb98d9c78de4a1fd7fd9535fc953ed2be602daaa41767312a,0xda2a605bdf59a3b18e24cd0b2d9110b6ffa2340f6f67bc48214ac70e49d12770,0xc23d89d4ba0f8b56a459710de4b44820d73e93736cfc0667f35cdd5142b70f0d]

  // Mint allowance: 
  // Root: 0x5835a39d2ef2424be1ac10cc79cb88d8329d6d600480d7b47dc3b492d0cea1d1
  const addressGroup_2 = ["0x0000000000000000000000000000000000000000","0x85be25d0Ef53959dB27D42df1f7da57549154D5f", "0x5c6B0f7Bf3E7ce046039Bd8FABdfD3f9F5021678", "0x03C6FcED478cBbC9a4FAB34eF9f40767739D1Ff7", "0x1aE0EA34a72D944a8C7603FfB3eC30a6669E454C", "0x0A098Eda01Ce92ff4A4CCb7A4fFFb5A43EBC70DC", "0xCA35b7d915458EF540aDe6068dFe2F44E8fa733c"];
  // Proof_2: [0x5380c7b7ae81a58eb98d9c78de4a1fd7fd9535fc953ed2be602daaa41767312a,0xeff686dda3c1034cbd62ed93a5b51b88d232822bbd71ad4fd83919fd9238b1a6,0x72c263694c9110f734560f0bd85eb26f1a1f63b883c443541662e5644e30fbf0]


  
  // Address List input -> ["0x4478029e203c0602b2dfef4d3da7a2cd97f24c42a8266352508dd532a258f624","0xa6bd3782ccc3c0be4098789f15060f25e902c825d940003f76e8efeadc390b75","0xabccce5f6348328b5d3a30890dfd2a21173aef03e348995aa6f3752304f17b09"]

  // Ether to Wei: ether + 000000000000000000 (18 zeros)


  // ********** Generate Roots ********** //

//#region Root Generation
  const leaves_0 = addressGroup_0.map(x => keccak256(x))
  const tree_0 = new MerkleTree(leaves_0, keccak256, { sortPairs: true })

  console.log("Root_0: " + buf2hex(tree_0.getRoot()))

  const leaves_1 = addressGroup_1.map(x => keccak256(x))
  const tree_1 = new MerkleTree(leaves_1, keccak256, { sortPairs: true })

  console.log("Root_1: " + buf2hex(tree_1.getRoot()))

  const leaves_2 = addressGroup_2.map(x => keccak256(x))
  const tree_2 = new MerkleTree(leaves_2, keccak256, { sortPairs: true })

  console.log("Root_2: " + buf2hex(tree_2.getRoot()))
//#endregion



  // to lowercase (no need for roots but you might need it for proofs)
/*
  addressToLower = addressGroup_0
  for (let i = 0; i < addressToLower.length; i++){
    addressToLower[i] = addressToLower[i].toLowerCase()
  }  
  console.log(addressToLower)
*/



  // ********** Generate Proof ********** //

//#region  Proof_0 - 0xAb8483F64d9C6d1EcF9b849Ae677dD3315835cb2
  const leaf_0 = buf2hex(keccak256("0xAb8483F64d9C6d1EcF9b849Ae677dD3315835cb2")) // address from wallet using walletconnect/metamask
  const proof_0 = tree_0.getProof(leaf_0).map(x => buf2hex(x.data))

  //console.log(proof_0)

  stringProof_0 = "[";
  for (let i = 0; i < proof_0.length; i++){    
    stringProof_0 += proof_0[i];
    
    if ((i+1) == proof_0.length){
      stringProof_0 += "]";
    }
    else {
      stringProof_0 += ",";
    }
  }
  //console.log("leaf: " + leaf)

  //console.log(proof)
  console.log("Proof_0: " + stringProof_0)
//#endregion

//#region  Proof_1 - 0x78731D3Ca6b7E34aC0F824c42a7cC18A495cabaB
  const leaf_1 = buf2hex(keccak256("0x78731D3Ca6b7E34aC0F824c42a7cC18A495cabaB")) // address from wallet using walletconnect/metamask
  const proof_1 = tree_1.getProof(leaf_1).map(x => buf2hex(x.data))

  //console.log(proof_1)

  stringProof_1 = "[";
  for (let i = 0; i < proof_1.length; i++){    
    stringProof_1 += proof_1[i];
    
    if ((i+1) == proof_1.length){
      stringProof_1 += "]";
    }
    else {
      stringProof_1 += ",";
    }
  }
  //console.log("leaf: " + leaf)

  //console.log(proof)
  console.log("Proof_1: " + stringProof_1)
//#endregion

//#region  Proof_2 - 0x03C6FcED478cBbC9a4FAB34eF9f40767739D1Ff7
const leaf_2 = buf2hex(keccak256("0x03C6FcED478cBbC9a4FAB34eF9f40767739D1Ff7")) // address from wallet using walletconnect/metamask
  const proof_2 = tree_2.getProof(leaf_2).map(x => buf2hex(x.data))

  //console.log(proof_2)

  stringProof_2 = "[";
  for (let i = 0; i < proof_2.length; i++){    
    stringProof_2 += proof_2[i];
    
    if ((i+1) == proof_2.length){
      stringProof_2 += "]";
    }
    else {
      stringProof_2 += ",";
    }
  }
  //console.log("leaf: " + leaf)

  //console.log(proof)
  console.log("Proof_2: " + stringProof_2)
//#endregion




  //stringProof = proof.;
  //stringProof.replace(/ /g,'').replaceAll('\'','"');

  //contract.methods.safeMint(address, proof).send({ from: address }) // will be called on click of the mint button
</script>
</body>
</html>